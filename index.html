<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1ì¡° íŒ€í˜ì´ì§€</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="jquery.fullPage.css" />
    <link rel="stylesheet" href="main.css" />
    <link rel="stylesheet" href="backgroundimage.css" />
    <link rel="stylesheet" href="section3.css" />
    <link rel="stylesheet" href="section2.css" />
    <link rel="stylesheet" href="section4.css" />
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <script src="jquery.fullPage.js"></script>
    <script src="main.js"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&display=swap");
      * {
        font-family: "Nanum Pen Script", cursive;
      }
    </style>
    <script type="module">
      // Firebase SDK ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°€ì ¸ì˜¤ê¸°
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
      import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
      import {
        collection,
        addDoc,
      } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
      import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

      // Firebase êµ¬ì„± ì •ë³´ ì„¤ì •
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
      };

      // Firebase ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      // ì„¹ì…˜3 ë°ì´í„° ë„£ê¸°
      $("#postingbtn").click(async function () {
        let usergatherURL = $("#user-gatherURL").val();
        let username = $("#user-name").val();
        let usermbti = $("#user-mbti").val();
        let userimageURL = $("#user-imageURL").val();
        let usergoal = $("#user-goal").val();
        let userpassword = $("#user-password").val();
        let userstrength = $("#user-strength").val();
        let usercollabStyle = $("#user-collabStyle").val();
        let usercontact = $("#user-contact").val();

        let doc = {
          "user-gatherURL": usergatherURL,
          "user-name": username,
          "user-mbti": usermbti,
          "user-imageURL": userimageURL,
          "user-goal": usergoal,
          "user-password": userpassword,
          "user-strength": userstrength,
          "user-collabStyle": usercollabStyle,
          "user-contact": usercontact,
        };
        await addDoc(collection(db, "members"), doc);
        alert("ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.");
        window.location.reload();
      });
      // ì„¹ì…˜4 ìŠ¬ë¼ì´ë“œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
      let docs = await getDocs(collection(db, "members"));

      $("#card").empty();

      docs.forEach((doc) => {
        let row = doc.data();

        let usergatherURL = row["user-gatherURL"];
        let username = row["user-name"];
        let usermbti = row["user-mbti"];
        let temp_html = `
    <div class="col">
        <div class="card h-100">
            <img src="${usergatherURL}"
                class="card-img-top" alt="...">
            <div class="card-body">
                <h5 class="card-title">${username}</h5>
                <p class="card-text">${usermbti}</p>
                <button id="${doc.id}" class="detail-button">ìƒì„¸í˜ì´ì§€</button>
            </div>
        </div>
    </div>
    `;
        $("#card").append(temp_html);
      });
      //ìƒì„¸í˜ì´ì§€ë¡œ
      $(".detail-button").click(function () {
        const docId = this.id;
        const detailPageUrl = `./detail/memberDetail.html?id=${docId}`;
        window.location.href = detailPageUrl;
      });
    </script>
  </head>

  <body>
    <header>
      <nav>
        <ul>
          <li data-menuanchor="section1"><a href="#section1">ì¼í¸ë‹¨ì‹¬</a></li>
          <li data-menuanchor="section2"><a href="#section2">íŒ€ì†Œê°œ</a></li>
          <li data-menuanchor="section3"><a href="#section3">íŒ€ì›ë˜ê¸°</a></li>
          <li data-menuanchor="section4"><a href="#section4">ìš°ë¦¬íŒ€ì›ë“¤</a></li>
          <!-- <li data-menuanchor="section5"><a href="#section5">section5</a></li> -->
        </ul>
      </nav>
    </header>
    <main id="fullpage">
      <section class="section s1">
        <div class="logo">
          <img
            src="https://github.com/Junghwan1106/LevelByThree/blob/main/%EB%A1%9C%EA%B3%A0-removebg-preview.png?raw=true"
            alt="logo"
          />
        </div>
        <div class="gatherpicture">
          <img
            src="https://github.com/Junghwan1106/LevelByThree/blob/main/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202023-10-10%20141028.png?raw=true"
            alt="gatherpicture"
          />
        </div>
      </section>

      <section class="section s2">
        <div class="stickerImages">
          <div class="sticker1">
            <img
              src="https://github.com/Junghwan1106/LevelByThree/blob/main/goodnotes%20sticker%20(1).png?raw=true"
              alt="sticker1"
            />
            <h1 class="overlay-text">ëª©í‘œ</h1>
            <h1 class="overlay-text1">
              ìš°ë¦¬ì˜ ëª©í‘œëŠ” ìº í”„ë¥¼ í†µí•´
              <br>ì „ë¬¸ì ì¸ <span class="redtxt">ë°±ì—”ë“œ ê°œë°œì</span>ë¡œ ì„±ì¥í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
            </h1>
          </div>
          <div class="sticker2">
            <img
              src="https://github.com/Junghwan1106/LevelByThree/blob/main/goodnotes%20sticker%20(2).png?raw=true"
              alt="sticker2"
            />
            <h1 class="overlay-text">íŠ¹ì§•</h1>
            <h1 class="overlay-text1">
              ìš°ë¦¬ íŒ€ì€ í”„ë¡œì íŠ¸ ì¼ì •ì„ ì˜ ê´€ë¦¬í•˜ê³  í•„ìš”í•  ë•Œ 
              <br>ì¡°ì •í•˜ì—¬ ì—…ë¬´ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì§„í–‰í•©ë‹ˆë‹¤.
            </h1>
          </div>
          <div class="sticker3">
            <img
              src="https://github.com/Junghwan1106/LevelByThree/blob/main/goodnotes%20sticker%20(3).png?raw=true"
              alt="sticker3"
            />
            <h1 class="overlay-text">ì•½ì†</h1>
            <h3 class="overlay-text2">
              ğŸš¨ <span class="redtxt">ìŠ¬ë™ ì•Œë¦¼</span>ì„ êº¼ë‘ì§€ ë§ì•„ì£¼ì„¸ìš”!
              <br>ê¸´ê¸‰í•œ ì—°ë½ì€ ìŠ¬ë™ìœ¼ë¡œ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
            </h3>
            <h3 class="overlay-text3">
              ğŸ“ ê°œì¸ ì¼ì •ì€ ê¼­! íŒ€ì›ë“¤ì—ê²Œ 
              <br>ì‚¬ì „ì— ì•Œë¦¬ê±°ë‚˜ ê¸°ë¡í•©ì‹œë‹¤. 
              <br>ê·¸ë ‡ì§€ì•Šìœ¼ë©´ ì—°ë½ì„ ë“œë¦´ ì˜ˆì •ì…ë‹ˆë‹¤!
            </h3>
            <h3 class="overlay-text4">
              ğŸ™†ğŸ»â€â™‚ï¸ ì„œë¡œë¥¼ ì¡´ì¤‘í•˜ë©° ì˜ˆì˜ ìˆê²Œ ëŒ€í™”í•©ì‹œë‹¤.
            </h3>
          </div>
        </div>
      </section>

      <section class="section s3">
        <div class="login-form">
          <h1>ì¼ë¥˜ íŒ€ì›ì´ ë˜ëŠ” ì–‘ì‹</h1>
          <form id="form-box">
            <div class="int-area">
              <input
                type="url"
                id="user-gatherURL"
                autocomplete="off"
                required
              />
              <label for="user-gatherURL">ê²Œë” ìºë¦­í„° URL</label>
            </div>
            <div class="int-area">
              <input type="text" id="user-name" autocomplete="off" required />
              <label for="user-name">ì´ë¦„</label>
            </div>
            <div class="int-area">
              <input
                type="url"
                id="user-imageURL"
                autocomplete="off"
                required
              />
              <label for="user-imageURL">ìê¸° ì‚¬ì§„ URL</label>
            </div>
            <div class="int-area">
              <input type="text" id="user-mbti" autocomplete="off" required />
              <label for="user-mbti">MBTI</label>
            </div>
            <div class="int-area">
              <input type="text" id="user-goal" autocomplete="off" required />
              <label for="user-goal">ê°ì˜¤</label>
            </div>
            <div class="int-area">
              <input
                type="password"
                id="user-password"
                autocomplete="off"
                required
              />
              <label for="user-password">ë¹„ë°€ë²ˆí˜¸</label>
            </div>
            <div class="int-area">
              <input
                type="text"
                id="user-strength"
                autocomplete="off"
                required
              />
              <label for="user-strength">ìì‹ ì˜ ê°•ì </label>
            </div>
            <div class="int-area">
              <input
                type="text"
                id="user-collabStyle"
                autocomplete="off"
                required
              />
              <label for="user-collabStyle">í˜‘ì—… ìŠ¤íƒ€ì¼</label>
            </div>
            <div class="int-area">
              <input
                type="text"
                id="user-contact"
                autocomplete="off"
                required
              />
              <label for="user-contact">Github ì£¼ì†Œ</label>
            </div>
            <div class="btn-area">
              <button id="postingbtn" type="submit">ë“±ë¡í•˜ê¸°</button>
            </div>
          </form>
        </div>
      </section>

      <section class="section s4">
        <div class="sectiontitle">
          <h1>ë‹¹ì‹ ì€ ì¼ë¥˜ì…ë‹ˆë‹¤.</h1>
        </div>
        <div class="spartaimg">
          <img src="https://github.com/Junghwan1106/LevelByThree/blob/main/spartasvg%20(1)%20(1).png?raw=true" alt="...">
        </div>
        <div class="mycards">
          <div id="card" class="row row-cols-1 row-cols-md-5 g-1">
            <div class="col">
              <div class="card h-100">
                <img
                  src="https://images.unsplash.com/photo-1446768500601-ac47e5ec3719?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1446&q=80"
                  class="card-img-top"
                  alt="..."
                />
                <div class="card-body">
                  <h5 class="card-title">ì•¨ë²” ì œëª©</h5>
                  <p class="card-text">ì•¨ë²” ë‚´ìš©</p>
                  <button id="nextbtn">ìƒì„¸í˜ì´ì§€</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </body>
</html>
